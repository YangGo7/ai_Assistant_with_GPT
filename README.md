# GPT 와 함께하는 ai Assistant 만들기

## 0. 큰 그림부터 잡자 (아키텍처)

하루 종일 돌아가는 서비스 기준으로 보면 흐름은 이렇게 돼:

1. **메일 수집**
   * IMAP / Gmail API로 “새로운/미응답 메일” 가져오기
2. **필터링·분류**
   * 스팸/광고/공지 등은 제외
   * 나머지는 “문의 / 회의요청 / 단순안내 / 내부결재요청 …” 같은 카테고리로 분류
3. **응답 전략 결정**
   * 이 메일은
     * (A) 자동으로 보내도 되는지?
     * (B) 초안만 만들고 사람이 최종 확인하는지?
4. **답장 내용 생성**
   * 템플릿 + 규칙 + LLM(예: GPT API)로 문장 생성
   * 회사 말투 / 포맷(인사말, 서명 등)까지 맞추기
5. **발송 + 기록**
   * SMTP / Gmail API로 전송
   * DB나 로그에 `original_message_id`, `reply_message_id`, 카테고리, 사용된 템플릿 기록
6. **사후 학습**
   * 사람이 수정한 답장을 다시 수집해서 “에이전트가 뭐를 잘못했는지” 피드백용 데이터로 활용




**Step 1 — “읽고 분류 + 요약만 하는 봇”**

* 메일 크롤링 → 분류 → “카테고리 + 한 줄 요약”만 콘솔/웹에서 보여주기
* 이 단계에서 **분류 모델 품질/규칙** 먼저 안정화

**Step 2 — “답장 초안만 써주는 에이전트”**

* LLM 연결해서, 사람이 보내기 전에 수정할 수 있는 초안 생성
* GUI든, Notion이든, 간단한 웹페이지에
  * 왼쪽: 원본 메일
  * 오른쪽: 에이전트가 제안한 답장

    구조로 보여주면 실사용자 피드백 받기 좋음

**Step 3 — “일부 케이스 자동 발송”**

* 예:
  * 단순 접수 확인 메일 (“문의 주셔서 감사합니다. ~ 확인 후 회신 드리겠습니다.”)
  * 자동 회신(부재중 안내, 근무시간 안내 등)
* 정책 테이블에서 `auto_send` 허용 범위를 조금씩 늘려감
